<!DOCTYPE html>
<html lang="en">

<head>
	<title>Bootstrap 4 Website Example</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<style>
		/*.fakeimg {
    height: 200px;
    background: #aaa;
  }*/
	</style>

	
</head>

<body>

	<br>
	<div class="container-fluid">
		<div class="card">
			<div class="card-header">Swan station control panel</div>
			<div class="card-body">

				<div class="container-fluid">
					Power:
					<button id="btnEnabled" type="button" style="margin: 5px;" class="btn btn-success" onclick="setMode('powerOff')">Enabled</button>
					<button id="btnDisabled" type="button" style="margin: 5px;" class="btn btn-danger" onclick="setMode('powerOn')">Disabled</button>
				</div>
				<br/>

				<button type="button" style="margin: 5px;" class="btn btn-primary" onclick="setMode('LOST')">LOST SHOW
					MODE</button>
				<button type="button" style="margin: 5px;" class="btn btn-primary" onclick="setMode('LOST_TEST')">LOST
					TEST MODE</button>
				<button type="button" style="margin: 5px;" class="btn btn-primary" onclick="setMode('CLOCK')">CLOCK
					MODE</button>
			</div>
		</div>
	</div>
	</div>

	<script>

		var queryDict = {};
        location.search.substr(1).split("&").forEach(function(item) {queryDict[item.split("=")[0]] = item.split("=")[1]})
		//console.log(queryDict.enabled);
		if (queryDict.enabled==='true') {
			document.getElementById("btnEnabled").style.display = "unset";
			document.getElementById("btnDisabled").style.display = "none";
		} else {
			document.getElementById("btnEnabled").style.display = "none";
			document.getElementById("btnDisabled").style.display = "unset";
		}





		var url = "/switch"

		function setMode(mode) {
			var xmlHttp = new XMLHttpRequest();
			var theUrl = url + "?mode=" + mode;
			console.log(theUrl)
			xmlHttp.open("GET", theUrl, false); // false for synchronous request
			xmlHttp.send(null);
			return xmlHttp.responseText;
		}

		var queryDict = {};
        location.search.substr(1).split("&").forEach(function(item) {queryDict[item.split("=")[0]] = item.split("=")[1]})
        console.log(queryDict.enabled);

	</script>




</body>

</html>